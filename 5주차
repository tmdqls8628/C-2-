#include <stdio.h>

int stock[5] = { 0 };        
int sales[5] = { 0 };       
char names[5][20];         

void inputNames() {
    int i;
    for (i = 0; i < 5; i++) {
        printf("ID %d 상품명 : ", i + 1);
        scanf("%s", names[i]);
    }
}

void inputStock() {
    int id, amount;
    printf("입고할 상품 ID (1~5): ");
    scanf("%d", &id);
    printf("입고 수량: ");
    scanf("%d", &amount);

    if (id >= 1 && id <= 5) {
        stock[id - 1] = stock[id - 1] + amount;
        printf("입고 완료\n");
    }
    else {
        printf("잘못된 ID\n");
    }
}

void sell() {
    int id, amount;
    printf("판매할 상품 ID (1~5): ");
    scanf("%d", &id);
    printf("판매 수량: ");
    scanf("%d", &amount);

    if (id >= 1 && id <= 5) {
        if (stock[id - 1] >= amount) {
            stock[id - 1] = stock[id - 1] - amount;
            sales[id - 1] = sales[id - 1] + amount;
            printf("판매 완료\n");
        }
        else {
            printf("재고 부족\n");
        }
    }
    else {
        printf("잘못된 ID\n");
    }
}

void showStatus() {
    int i;
    int totalSales = 0;
    int total = 0;
    int maxSale = sales[0];
    int minSale = sales[0];
    int maxID = 0;
    int minID = 0;

    printf("재고수량 : ");
    for (i = 0; i < 5; i++) {
        printf("%d ", stock[i]);
        total = total + stock[i] + sales[i];
        totalSales = totalSales + sales[i];
    }
    printf("\n총 판매량 : %d", totalSales);

    if (total > 0) {
        float rate = (float)totalSales / total * 100;
        printf(" (판매율 %.2f%%)\n", rate);
    }
    else {
        printf(" (판매율 0%%)\n");
    }

    for (i = 1; i < 5; i++) {
        if (sales[i] > maxSale) {
            maxSale = sales[i];
            maxID = i;
        }
        if (sales[i] < minSale) {
            minSale = sales[i];
            minID = i;
        }
    }

    printf("가장 많이 판매된 상품 : ID %d, 상품명 : %s, 판매량 %d\n", maxID + 1, names[maxID], sales[maxID]);
    printf("가장 적게 판매된 상품 : ID %d, 상품명 : %s, 판매량 %d\n", minID + 1, names[minID], sales[minID]);

    for (i = 0; i < 5; i++) {
        if (stock[i] < 3) {
            printf("상품 ID %d : 상품명 : %s 재고부족(%d)\n", i + 1, names[i], stock[i]);
        }
    }
}

int main() {
    int menu;

    while (1) {
        printf("\n원하는 메뉴를 선택하세요.(1. 입고, 2. 판매, 3. 상품현황, 4. 상품명 입력, 5. 종료)\n");
        scanf("%d", &menu);

        if (menu == 1) {
            inputStock();
        }
        else if (menu == 2) {
            sell();
        }
        else if (menu == 3) {
            showStatus();
        }
        else if (menu == 4) {
            inputNames();
        }
        else if (menu == 5) {
            break;
        }
        else {
            printf("잘못된 입력입니다.\n");
        }
    }

    return 0;
}
